<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Multi Cluster 구축 | HTDP1</title>
    <meta name="generator" content="VuePress 1.8.2">
    
    <meta name="description" content="htdp1 github pages">
    <meta name="theme-color" content="#3eaf7c">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    
    <link rel="preload" href="/am-arch/assets/css/0.styles.cf1d3b34.css" as="style"><link rel="preload" href="/am-arch/assets/js/app.19c9ff6c.js" as="script"><link rel="preload" href="/am-arch/assets/js/2.ae01a4e5.js" as="script"><link rel="preload" href="/am-arch/assets/js/62.8683264b.js" as="script"><link rel="prefetch" href="/am-arch/assets/js/10.d9af25aa.js"><link rel="prefetch" href="/am-arch/assets/js/11.a5c80802.js"><link rel="prefetch" href="/am-arch/assets/js/12.76b1d008.js"><link rel="prefetch" href="/am-arch/assets/js/13.5c01e802.js"><link rel="prefetch" href="/am-arch/assets/js/14.52fcb18c.js"><link rel="prefetch" href="/am-arch/assets/js/15.badf86bc.js"><link rel="prefetch" href="/am-arch/assets/js/16.83fc20df.js"><link rel="prefetch" href="/am-arch/assets/js/17.734cf5d3.js"><link rel="prefetch" href="/am-arch/assets/js/18.124f672e.js"><link rel="prefetch" href="/am-arch/assets/js/19.fdc75ca3.js"><link rel="prefetch" href="/am-arch/assets/js/20.452cb2f7.js"><link rel="prefetch" href="/am-arch/assets/js/21.b85383d1.js"><link rel="prefetch" href="/am-arch/assets/js/22.8cb89629.js"><link rel="prefetch" href="/am-arch/assets/js/23.897f3848.js"><link rel="prefetch" href="/am-arch/assets/js/24.283503ef.js"><link rel="prefetch" href="/am-arch/assets/js/25.f7870632.js"><link rel="prefetch" href="/am-arch/assets/js/26.7781dcb0.js"><link rel="prefetch" href="/am-arch/assets/js/27.f0ebc274.js"><link rel="prefetch" href="/am-arch/assets/js/28.c06f8696.js"><link rel="prefetch" href="/am-arch/assets/js/29.75372fac.js"><link rel="prefetch" href="/am-arch/assets/js/3.2f605d56.js"><link rel="prefetch" href="/am-arch/assets/js/30.7b8d57e8.js"><link rel="prefetch" href="/am-arch/assets/js/31.c04d80c5.js"><link rel="prefetch" href="/am-arch/assets/js/32.5caab91e.js"><link rel="prefetch" href="/am-arch/assets/js/33.f3197a56.js"><link rel="prefetch" href="/am-arch/assets/js/34.1fb31e2a.js"><link rel="prefetch" href="/am-arch/assets/js/35.29e5a944.js"><link rel="prefetch" href="/am-arch/assets/js/36.45ec308c.js"><link rel="prefetch" href="/am-arch/assets/js/37.3a577fd9.js"><link rel="prefetch" href="/am-arch/assets/js/38.df60b233.js"><link rel="prefetch" href="/am-arch/assets/js/39.d8277d56.js"><link rel="prefetch" href="/am-arch/assets/js/4.b7534e2c.js"><link rel="prefetch" href="/am-arch/assets/js/40.510f500b.js"><link rel="prefetch" href="/am-arch/assets/js/41.32220274.js"><link rel="prefetch" href="/am-arch/assets/js/42.3bc41ab3.js"><link rel="prefetch" href="/am-arch/assets/js/43.1a508afa.js"><link rel="prefetch" href="/am-arch/assets/js/44.46df17a4.js"><link rel="prefetch" href="/am-arch/assets/js/45.1a336b98.js"><link rel="prefetch" href="/am-arch/assets/js/46.c932c8c9.js"><link rel="prefetch" href="/am-arch/assets/js/47.342fb5ed.js"><link rel="prefetch" href="/am-arch/assets/js/48.69aa6c98.js"><link rel="prefetch" href="/am-arch/assets/js/49.48878cb6.js"><link rel="prefetch" href="/am-arch/assets/js/5.07db8f2b.js"><link rel="prefetch" href="/am-arch/assets/js/50.ce44e0d4.js"><link rel="prefetch" href="/am-arch/assets/js/51.55ed41cc.js"><link rel="prefetch" href="/am-arch/assets/js/52.09827445.js"><link rel="prefetch" href="/am-arch/assets/js/53.2f1d3103.js"><link rel="prefetch" href="/am-arch/assets/js/54.c83173cc.js"><link rel="prefetch" href="/am-arch/assets/js/55.7d9fa3fd.js"><link rel="prefetch" href="/am-arch/assets/js/56.3d74c052.js"><link rel="prefetch" href="/am-arch/assets/js/57.99512dc5.js"><link rel="prefetch" href="/am-arch/assets/js/58.a8faf437.js"><link rel="prefetch" href="/am-arch/assets/js/59.163d951c.js"><link rel="prefetch" href="/am-arch/assets/js/6.7949664e.js"><link rel="prefetch" href="/am-arch/assets/js/60.cf340990.js"><link rel="prefetch" href="/am-arch/assets/js/61.c3a6e5a7.js"><link rel="prefetch" href="/am-arch/assets/js/63.803081e6.js"><link rel="prefetch" href="/am-arch/assets/js/64.6eada8d0.js"><link rel="prefetch" href="/am-arch/assets/js/65.eee73b4e.js"><link rel="prefetch" href="/am-arch/assets/js/66.8d393c33.js"><link rel="prefetch" href="/am-arch/assets/js/7.72dd6d2d.js"><link rel="prefetch" href="/am-arch/assets/js/8.4d2d0dce.js"><link rel="prefetch" href="/am-arch/assets/js/9.9c6d11b2.js">
    <link rel="stylesheet" href="/am-arch/assets/css/0.styles.cf1d3b34.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div id="global-layout"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/am-arch/" class="home-link router-link-active"><!----> <span class="site-name">HTDP1</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/am-arch/guide/" class="nav-link">
  Guide
</a></div><div class="nav-item"><a href="/am-arch/cloud/" class="nav-link">
  Cloud
</a></div><div class="nav-item"><a href="/am-arch/refarch/" class="nav-link">
  Ref. Arch.
</a></div><div class="nav-item"><a href="/am-arch/cloud-native-app/" class="nav-link">
  Cloud.Native.App
</a></div><div class="nav-item"><a href="/am-arch/machinelearning/" class="nav-link">
  M / L
</a></div><div class="nav-item"><a href="/am-arch/gitops/" class="nav-link">
  GitOps
</a></div><div class="nav-item"><a href="/am-arch/multi-cloud/" class="nav-link router-link-active">
  Multi Cloud
</a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/am-arch/guide/" class="nav-link">
  Guide
</a></div><div class="nav-item"><a href="/am-arch/cloud/" class="nav-link">
  Cloud
</a></div><div class="nav-item"><a href="/am-arch/refarch/" class="nav-link">
  Ref. Arch.
</a></div><div class="nav-item"><a href="/am-arch/cloud-native-app/" class="nav-link">
  Cloud.Native.App
</a></div><div class="nav-item"><a href="/am-arch/machinelearning/" class="nav-link">
  M / L
</a></div><div class="nav-item"><a href="/am-arch/gitops/" class="nav-link">
  GitOps
</a></div><div class="nav-item"><a href="/am-arch/multi-cloud/" class="nav-link router-link-active">
  Multi Cloud
</a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>Introduction</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/am-arch/multi-cloud/" aria-current="page" class="sidebar-link">Overview</a></li><li><a href="/am-arch/multi-cloud/diagram.html" aria-current="page" class="active sidebar-link">Multi Cluster 구축</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/am-arch/multi-cloud/diagram.html#deployment-diagram" class="sidebar-link">Deployment Diagram</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/am-arch/multi-cloud/diagram.html#site-a" class="sidebar-link">Site A</a></li><li class="sidebar-sub-header"><a href="/am-arch/multi-cloud/diagram.html#site-b" class="sidebar-link">Site B</a></li></ul></li><li class="sidebar-sub-header"><a href="/am-arch/multi-cloud/diagram.html#cluster-management" class="sidebar-link">Cluster Management</a></li><li class="sidebar-sub-header"><a href="/am-arch/multi-cloud/diagram.html#sequence-diagram" class="sidebar-link">Sequence Diagram</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/am-arch/multi-cloud/diagram.html#login-sso-process" class="sidebar-link">Login SSO process</a></li><li class="sidebar-sub-header"><a href="/am-arch/multi-cloud/diagram.html#create-project-process" class="sidebar-link">Create project process</a></li><li class="sidebar-sub-header"><a href="/am-arch/multi-cloud/diagram.html#create-application-process" class="sidebar-link">Create application process</a></li><li class="sidebar-sub-header"><a href="/am-arch/multi-cloud/diagram.html#create-helm-chart-process" class="sidebar-link">Create helm chart process</a></li><li class="sidebar-sub-header"><a href="/am-arch/multi-cloud/diagram.html#app-ci-process" class="sidebar-link">App. CI process</a></li><li class="sidebar-sub-header"><a href="/am-arch/multi-cloud/diagram.html#app-cd-process" class="sidebar-link">App. CD process</a></li><li class="sidebar-sub-header"><a href="/am-arch/multi-cloud/diagram.html#helm-cd-process" class="sidebar-link">Helm CD process</a></li></ul></li><li class="sidebar-sub-header"><a href="/am-arch/multi-cloud/diagram.html#etc" class="sidebar-link">ETC</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/am-arch/multi-cloud/diagram.html#argo-workflow" class="sidebar-link">Argo Workflow</a></li><li class="sidebar-sub-header"><a href="/am-arch/multi-cloud/diagram.html#argo-event" class="sidebar-link">Argo Event</a></li><li class="sidebar-sub-header"><a href="/am-arch/multi-cloud/diagram.html#tekton" class="sidebar-link">Tekton</a></li></ul></li></ul></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="multi-cluster-구축"><a href="#multi-cluster-구축" class="header-anchor">#</a> Multi Cluster 구축</h1> <ul><li><p>구축 목표</p> <ul><li>Control Plane 과 Data Planes 으로 구성한다.</li> <li>Cluster 에 설치되는 기본 컴포넌트의 설치를 자동화 한다.</li> <li>Cluster EndPoint 관리를 자동화 한다.</li> <li>DWP 에서 Cluster Resource 제어시 Task Runner 를 적용한다.</li> <li>DWP 에서 Cluster Resource 제어시 async, non-block 을 적용한다.</li> <li>DWP 에서 Cluster Resource 제어시 status monitoring 을 적용한다.</li> <li>Access Log 를 Application 외부에서 처리하거나 최소한 Redis 직접 접속은 제거한다</li></ul></li> <li><p>task list</p> <ul><li>App CI</li> <li>App CD</li> <li>App Pod  실행</li> <li>SRE Component</li></ul></li></ul> <h2 id="deployment-diagram"><a href="#deployment-diagram" class="header-anchor">#</a> Deployment Diagram</h2> <h3 id="site-a"><a href="#site-a" class="header-anchor">#</a> Site A</h3> <ul><li>Site B 에서 사용하는 컴포넌트만 표시함</li> <li>Docker registry 로 Harbor 를 사용함</li> <li>Task 기반 비동기 처리를 위해 TaskAgent, TaskRunner, NotifyAgent 를 사용함</li></ul> <img src="https://www.plantuml.com/plantuml/svg/VLExJiCm5Dtp5HRT65eXCLKbAgG8YjI7cae88GOdSLlJnAviX_BgnWH8_003x0mCI5JYZqhx3_ZLjqgcSu_FlUVUQwV81MGYJMB7YL4RaSW1yhlV0nwDAGFt9WG5ZczHVcVNBGGmxEOpDGP96xdZfxVHz-luvsloyl7xy3nv71PoIk0MSYh1tPH-XkAOzjtHy7Fy_lLVkcp8jkKm50ff6YEmvT4aeGJuY5tX46q1o44eAN2dxSvzltQXECwf8RmqG9e99R1KgMgOYDYaIhDkiXBHSmPBTkMSLp8kE8ocBbLqdNATGHGov04MGHfsaT07mJGoXoUOGSrVIc2eOyW2oZJPqH1ag5wjx83GI9hNOoXQZ2P00c9cxOGzsyH2atNA18prUKz3Az4sfsQqVczEbImNMNAmMh09UNTfnK8H2qMLO5_UZPbLdK8LpIQO2QjKuDRDN4fql46igZPIGX2RbMKwN9VkipRrIbe69PHNioQfbAjbynWIJ31T5zHhVlEeSUXVcCLnqMQ8BydCOgn1DhjjAgsIqzJLBLOWaOD6IujCBBUmomQAi7bCJ25hF72Sedpxyk_y0m00" alt="uml diagram"> <h3 id="site-b"><a href="#site-b" class="header-anchor">#</a> Site B</h3> <ul><li>Control Plane, Data Plane 으로 구분</li> <li>Platform Plane 과의 통신을 TaskRunner 를 이용</li> <li>Docker registry 로 Harbor 사용</li> <li>Gitee 는 사용자 git repository 로 사용됨</li> <li>Platform 에서 배포에 사용되는 source 는 Bitbucket 을 사용함</li> <li>Cluster 컴포넌트 관리를 위해 ArgoCD 를 사용함</li> <li>Monitoring/Alert 컴포넌트는 long-terms 와 short-terms 를 구분함</li></ul> <img src="https://www.plantuml.com/plantuml/svg/VPFFJXH14CRlynGTkAW9R4myaNK26GXk32pkS378eMUcwEriJzTQtQD6uUP9JNm13dZtu8444jy8btUW_opkBBlQXqbLrw-wlczwPjDOJhQfLP8e4A2hXBbr-fnbg93OQKnPryYFiF7qMTejU3dQMEqJrmBIoTUBcwlpoU_Bs-y__tp-TllbkjlnGDhj-8RqN-slGIbydzvS_vhykFnVknCqbPLeh82jPAWjeM87YcjOOTomeXopJs4EGMcTBEMmGsv6B0Tw9yj8MRyHCR-EF31ej0OwlYzJqxYKhMBmDaEtI62s7J3kmh9QHFPw-xr-86gf9Iu21_tyS7UmamTcZCOA0ZE7dONdTC3w-fDuqiFD-zQ7VhDU9zkUCrnArz8ol0yV6XF6Qn_D2ZbgJg-Q0aBH-EojosR02qu5njSq3E6YlLrf8VOB7oqnrjAwXrfQ9Ab5Pqi1sI2tHjrMkwEuiR9Sou5JENoZ7odKOiq2rUPnc0CHQ4aWVi8rNuAAM9cXBsMnd1o5GklM26kmGsZC4dZyjpYrUPQqJRg315HpLr9FzwBFem5KCju8-SZr9vlkItV_uXq0" alt="uml diagram"> <img src="https://www.plantuml.com/plantuml/svg/VPBFIiD04CRlUOgblUYX1C5JYQ6jYe8K2vv4UvWaOx9airjsjmYnlNbImHVme7SF7WeMVAEQleERFngHrBdjVB_lszbXUqg3rDE4MHR347bW4LEpFR8lc91aLXw9esYAtPrTr_70ZxljKmayH3UxVrwzFsKVY_NZw-Vjm_fkwTWvu3fsRd0tsS-HCN7jhfPlsSlYFxiPg1hBuY90qZe03MJ4W6EBW29UC24tnIKIVMrcOeOPqBGKQLg9ULqCJB99wlJ7TUyOMVBTcF_D6GfEjP2KXtQVeTH5Q2Buxz131afJltE68Fteac-fI4ZTqIWJjJtE3LWIjUL8mXLmQ6B3KghP4-fjGED2gScH50dg2AUgYPxygBMZUDFGX8GecpoGwqcfroucOjf4vttI5iM_gDOvjwoUMRZvN5y0" alt="uml diagram"> <h2 id="cluster-management"><a href="#cluster-management" class="header-anchor">#</a> Cluster Management</h2> <ul><li>Cluster 를 새로 구축하는 경우 절차를 기술함</li> <li>Site Cluster 에 설치될 컴포넌트는 ArgoCD 로 관리함</li> <li>배포 상태 관리는 ArgoCD Dashboard 를 사용함</li></ul> <img src="https://www.plantuml.com/plantuml/svg/dLJBReCm4BpxArRSKPK-fAg7AWcvz50fVr0jjaDSmBRi9Gf_toKXXOQqYSe1fDqPrZDZUnu90pLr9KIKM6cOYLWQwp5W3Mjk6MayMbgZKiOMy3HgBzr-A9CXPYTPrKJI0TxHOg5hRIaHOY79dKf1v6uFIJIaOG7PsrssIWJmuuTXi3IKDxBK9BHLm8GHQGdIMGgk0b-XrLDoiWY5orRf2kCsTnXK0XW1kIYLujg4SCHFokLp_EX7NLo6GiBVrj1nk_utKM13pZPrpjxCqjc1q1i2wUiW65wWC0I-YLjeEPKHxNvA6qGnJmQDl30VtAUMT0jK7iEw1HgqTwpRXVOMD7fV6Obad1qhUBYY8BPM7bHte567SSUCpZ5zzSn0kTMoT0rTW8qoFG51cStcJvZIldBj_mSUDigLQJsc7pNoxF6APxMpNIny27_yTM8jSJ8rVtNOwP16FfYftl5RY3dlKRu0lW00" alt="uml diagram"> <h2 id="sequence-diagram"><a href="#sequence-diagram" class="header-anchor">#</a> Sequence Diagram</h2> <ul><li>사용자 관점에서 필요한 프로세스를 Sequece Diagram 으로 작성</li></ul> <h3 id="login-sso-process"><a href="#login-sso-process" class="header-anchor">#</a> Login SSO process</h3> <ul><li>프로세스 설명
<ul><li>Site A 사용자가 A url 과 B url 을 사용하여 로그인 할 경우
<ul><li>case1, case2</li></ul></li> <li>Site B 사용자가 B url 을 사용하여 로그인 할 경우
<ul><li>case3</li></ul></li></ul></li></ul> <img src="https://www.plantuml.com/plantuml/svg/hP8nRuCm48Lt_ugJzmmaofAXIfWh5IcgEbPtnasiWeryHitFxm6X49567Ue9lVVyxhFndXF6rDQLKcomif0f_dI-mOWr568vunhqgS2oTFu4svcTXyia9vTajtuE9-UXYC5OPgqKXGjeTid2GIkGXIQ5E4hmoZPgG0PyR-MpJpJJL3WUNmQNEInCVO0sLl1MN1k-ccKadqUeYrXVWb3Do7BzsrpwcJl7pYTi6h37JeLj2hwjoKR8LfaQJWMhfvuETb1rrwDya9RAVYHH3BBjWcBtCHaeglIShHSSJ2vuDSXJJRIbYzQaxd2plVsm7N1hkjk_eLdVqD0ZchMYQoFTfw6HXkxGq5zeDa933sYYEvr7dCs_uD02Poy_JTxzDm00" alt="uml diagram"> <h3 id="create-project-process"><a href="#create-project-process" class="header-anchor">#</a> Create project process</h3> <ul><li>고려사항</li> <li>검토 필요 사항</li></ul> <img src="https://www.plantuml.com/plantuml/svg/XL8nJWCn4Ept5QkheBWYI3GKA0dGKA0J8g99u_WsaKbid-nr23LyWqVmhpo2DG7T9PU8gtopC-kTyGuZgy39hW2YLYl20SIbSOqAoc8b9QDDennNggwDM-1bfppscnPcmw8kgk1VI3Dktp-t7ry5WDBi0quY1PZv3HRHCE48IsnMYkS-s7nmL03ArxGNukrprSDk9kEx7lZWsSpVHWjotAizgRWyNNbCpibSXwLYR7YMz99uwiwYJq7JUO4gukxSuz-Re81SZM9G32VsBjaP1HoK0yZEiRpETl0ATI0b_fjTIf31SjfEAOoG7BByGmkAkfssIv5ipJhtwvY13bM4kv7xDvzWMLzBbcWfptz0oZR_Q_JBsM-pnn6xdGSJRip9kHy8QZfcgSlF-hm5Vq9BCQe5xSL-qOjzRUWLPTCvHO2Xw6JXlm40" alt="uml diagram"> <h3 id="create-application-process"><a href="#create-application-process" class="header-anchor">#</a> Create application process</h3> <ul><li>고려사항
<ul><li>site 정보와 상관없이 application 을 생성을 할 수 있도록 한다.</li> <li>DWP metadata 생성 및 source repository 를 개발자에게 제공하는 범위로 한정한다.</li></ul></li> <li>검토 필요 사항
<ul><li>TaskRunner 에서 발생하는 status 를 NotifyAgent 로 보내는 기술 검증 필요</li> <li>TaskRunner 에서 발생하는 status 를 조회하는 기능 검증 필요</li></ul></li></ul> <img src="https://www.plantuml.com/plantuml/svg/XLEnJiCm4Dtz5QTCC0IfI2mCg2smeWfHiNHnawErajYMVIxj3B_1H_1V_GZE2L5IGY3J-RrtkRjtzjIJT1IgKWYVoH9X8doXj9LELh1WIcNAIaqBcUTAR-2gHy_DleD94MSdCsiluFZsSNp_J8IG6Ha7IuzEhCqU4gy8OGOfs5BIYt5L33Gc0lYpNJMuUruCiDlb_7u0FXXIBuVP1ZKDk2VfYt7cCMZDVVsaahcYTSWAf9K-yoQu3CyJa1wQ-6_zGLPbeuwHG9q3pyq-138wL6jqC4ad8Xe2wKsS4guXSoZP5idEYOYagwvpfbtGG7mM7SYftGHz2VkjTl5dlG55Jyg9pHYnx1QpmWHg4S8gRWL7zKsR3gtXDHft61FQuBUjMwUIQ4g_SdqUgTjg_wdwBQjhrfwVy6nbxuAmpiULw1eIEVvcLryVy-EjQnChz5vky6IVbuDzxXI-0Zyh2bw8AUVnw_e2" alt="uml diagram"> <h3 id="create-helm-chart-process"><a href="#create-helm-chart-process" class="header-anchor">#</a> Create helm chart process</h3> <ul><li>고려사항
<ul><li>site 정보와 상관없이 helm chart 를 생성을 할 수 있도록 한다.</li></ul></li> <li>검토 필요 사항
<ul><li>TaskRunner 에서 발생하는 status 를 NotifyAgent 로 보내는 기술 검증 필요</li> <li>TaskRunner 에서 발생하는 status 를 조회하는 기능 검증 필요</li></ul></li></ul> <img src="https://www.plantuml.com/plantuml/svg/TL9BJiCm5Dpx54zPmI98HMB30lK34YjK8IestRZ9QsCb_iX-BkqQhi4Xk5SFmJCLYY5jLlRCctXcx74WwIdgJeXGoGvX94AhZ9DUQfWpfIhbfA6vh6jbDd2JqLExws5InEhY4JiDiuQ5S7Z_F7ny5KB8Ygo7HK0lLdO7HL24C84IN2TfRRrE2uE50FvSVoRSlyu7s6mnVHY0JvRKUZ_PeA41zo93UvvvZiQmh_zKCLMqYbMBj3GNUwcxom9aWBGIQ6hW79mhaZLHhz33g1o9513Ak-GQRg7oA3ccTEvA9AHSzawOzj40yLxq84jxH_a8zwUswMUPuMoITSbNEhF1ghMHZdj2dGh6CxD7VnwTvVkmVdzwpCNG76FdD8V9AkUna4enFv2eyPJXV3xfqpt-2ZM683Vufz7hGQDRXM_0pvLY46BCEdwrtm00" alt="uml diagram"> <h3 id="app-ci-process"><a href="#app-ci-process" class="header-anchor">#</a> App. CI process</h3> <ul><li>고려사항
<ul><li>TaskAgent 는 Target Cluster 를 Discovery 하는 기능 필요함</li> <li>application source 는 사이즈가 크지 않으므로 site A 에서 checkout 받음</li> <li>docker image 사이즈가 커서 네트워크 트래픽 문제가 발생할 수 있음</li> <li>네트워크 트래픽 문제로 docker repository 는 site B 에 위치해야 함</li> <li>네트워크 트래픽 문제로 docker build &amp; push 는 site B 에서 수행해야 함</li> <li>site 간 docker image 동기화 필요함</li></ul></li> <li>검토 필요 사항
<ul><li>TaskRunner 에서 발생하는 status 를 NotifyAgent 로 보내는 기술 검증 필요</li> <li>TaskRunner 에서 발생하는 status 를 조회하는 기능 검증 필요</li> <li>site 간 docker image 동기화 시간 및 간격 검증 필요</li></ul></li></ul> <img src="https://www.plantuml.com/plantuml/svg/XLJ1JkCm4BtxAqOviOSY5RGN3eYKNMdtWheBY4ilZkCMgyxOiiUb_Nl6RMYT1aHEpioRcVUU9xcB90EbpWeHbRGQfYAk3NePP0TpJXbbl4IQoxOrk8AVHNhcjgSm6UBgglR-4kx_La98HIx0SzH1D6uBLJIaeOO9U2jfwKAN3wWh0VpuqoJuzJ8VnUwVPxz7mGT7PhchLnffb7kISVrvffePQf9QQrhWHNGfAFsZ0XdXS1xX_yZGi10674wrqDW2IofapLYMSaZ1sQzKPKB_4oBRCTAXjob-CNSKVdGemx_Kw2CD8HCvJ5sZ0qmdKv4jXybjzX5k82Ja-n3ecARLI-8Gl-RSP75ogGSIlujJa9kKYDP4vJOwxFQuS11Je1U5oB8XRuBPI9vVU20AA8yvUCz5wbMhjKlqSHj3sA1_aunjGNflZP9a79w1zxPcskuDhPCjMDF4xnksZdSZB8qz7zulmWtu55zx69XEhiw1nojYBEbur3A0iLl5_Z8ovll4VKYq-ZFFIdokpn_5Hs6dOynCocMuucNeIJFwI9-_SnpIBvUZX_dW5BSSrTUvmGxLi44vzNgqWXkZtu3_CyHRBkwOBVzktW40" alt="uml diagram"> <h3 id="app-cd-process"><a href="#app-cd-process" class="header-anchor">#</a> App. CD process</h3> <ul><li>고려사항
<ul><li>Deploy 를 수행하는 시점에 ArgoCD Application 을 생성한다.</li> <li>ArgoCD Application 도 bitbucket yaml 로 관리한다.</li> <li>ArgoCD metadata 는 control plane 에 유지한다.</li></ul></li></ul> <img src="https://www.plantuml.com/plantuml/svg/ZLHDZzem4BtxLunoQWzKGcsbgeTg0woqfmfLNVN2nJX3i4Zio1vJ-FSTnw4n4DhD9RRdlVbuC_QJ9-aej8qGNia6OIxyGPjEEjd2carQwKuQMikgqgQ6pvbvOK_ZCMbYTb5stGTOhWeXf2BhuDMZ4rjxWi9hGYXX1bqZQMTT6nS62m7yTMCaMFrQtvqjNnVFTuVVBUdTkQpHq9tjf_I7QKknqBGDwe2qCU_EictU5o0znDM_iQMhxNALq9BNFGDD1LnULkA2IrJMaBFDemfZSZ-2CIpDhIa5kJj-aMvhxz67Bpvcmp_r89DAadoK1jF-ieGCP4rej-XWFfkBs3UOVOlDWA_WWk6cYhYPRKPj1mlnNeo7pCeHbVRA7j6TUvnBPMVeJIP7xf3dHnybbv6f9J8eXxbqWMbw1yOIu4bxyhsA_IJI7Wri37J1xrEBay0nxDlP_cnKOZCAmUbw7oihQnTTTSugz3xp7FlnVwyLTeqz9xytXGrfgJsgWmsKCDUGAz5QM_5Dc88DdiRwS_Dc6BT1zfJGTIwCoQuP0qs_0tusA7XHuLIRSaRq46ylKtqSjfQbaZLU3Tmd7hXHlSdYtonydBXSs2pCHmuJ4RT0Xzu6fp05QN0NOqJ49S10IfUmLxDfeBByBZZGxLGrrzVdgF7tHJ7nn2hmU_i7" alt="uml diagram"> <h3 id="helm-cd-process"><a href="#helm-cd-process" class="header-anchor">#</a> Helm CD process</h3> <ul><li>고려사항
<ul><li>ArgoCD Helm application 을 생성하면 ArgoCD 가 helm chart 를 배포해줌</li> <li>ArgoCD helm app. 역시 bitbucket repository 로 관리함</li> <li>helm app. 내 parameter 설정으로 values.yml 수정함</li></ul></li> <li>검토 필요 사항
<ul><li>Async process 에 대한 status 조회 방안 필요</li></ul></li></ul> <img src="https://www.plantuml.com/plantuml/svg/ZLHDZzCm4BtxLunoWaEHAa127D3s0sbFg4AikEJYEjF4Qc97zgIq_vvnd1AdJPVjfR7dlVbuC-CdJz9HrzH2U2LhXANmHsrQwMG3EpPffLjfQ2UBGfiIFYVcjJsFrwI9sTaMszfUu1dh1ZOLypCXf2BhuCMZ4tjxXinhGbZ10jfQqi6w9dmOp0JmhnrZmlRtxkvkyxB-VdVvmv8-N5Ob6hgp_PB-E6_9rfhsdJeYvURTHJRr-moaX_3rEdRbIhlPHhJaxvw1fW0kBobnpIKgQyZP-b658RcVdJ4ipQqf1hcxVfPkR-_Hnoy-PCD_wa4cXIJvA0sc_MC9sP4rNRD71yl5KeI-mU9RQ0Py1TSPuAp2OP6FsWuMuhCOBvcL8WhjbJsXk_Gu5yjEq7aYH-gGvqUV99UHg2KIA8UvTe5f-W364k1PU_AzYgks_G1KeO7SGDlvAhOu2Xp2lftjBqP5DgCGd2whKDcgTC5Lwwn2xnFFeH__zrh4fUdztXGsfAKgL4VRKSHC8HFH6blm9ip11azZ_Qav7yPja3qcDCs5CScQCT3q9-07X3el2fnhKye87iBsCjM7OMjOAbdYPE0-yS2DwiqM_sRXmyIbmYPXFdAOWBW5ElIsSmfZa1eF8KP0N0CCfBY4lPfr3ONbTy61RkQgcQxFIUEVgsBYYLNWb_Sl" alt="uml diagram"> <h2 id="etc"><a href="#etc" class="header-anchor">#</a> ETC</h2> <ul><li>TaskRunner 로 사용 가능한 Open Source 정리</li></ul> <h3 id="argo-workflow"><a href="#argo-workflow" class="header-anchor">#</a> Argo Workflow</h3> <img src="https://www.plantuml.com/plantuml/svg/TLHDIyGm4BtdLmIFmbOy2E91jYhAWhgBBdYEoMm9JPEI3rOG_xkJVcJ3jksfVU_DlEcRj6ldcVMXKOGupXJGQ-9ggLjcMKDtI4akMwRzZWaXTKLlClh1_9nWBprMNvIsClJBsFgWpF6245Q1zdJFN5t6EsA1UwOhb4RbAAI_XEBLYqTm3qshc8UEuaOfB9L6koIO48iLw1KQxEqocqyFRVRuLBvaJuz6UoOrsBo0Mzdw3FW0PuBblLsCwi2ufs-RzyrsCi56js6mp-5jy0aNpBDlve2snldAWYD_MLprhHjIokjtHaoRZdF51eIaxEbAhEvJUFIEsg3fSSmouKLncO94aTHS1G4PRmjp2ZHJfA8Y56QonUW71x2WCJ0Imu-TPgrm5OjSvgBGfUipDq8aOvyvJY2N5hoewDUzI8yXpmfYHFt65-bXy_ch3HK5ijqXGYuu8AFo72UdTrZXOkDHw9TAXj7Fq3HnnDCPGP9RY1zD9utSQ7Aq4gTzDTMpL71L3WVS4R86BV2NyGy0" alt="uml diagram"> <h3 id="argo-event"><a href="#argo-event" class="header-anchor">#</a> Argo Event</h3> <img src="https://www.plantuml.com/plantuml/svg/NP4nJyGm38Lt_mghUmS65gOUWhqgI9r3uej2swIoSzn9YF-EIwzSUfcSzvvVFYcDPCFvD8q0Oir8-00oX3WRDXEsQWKRPXDpQvmBqUDZOJ-doqtE8UjsTM2VyFMBOgu0qiSdsOmlVRkD7RaWC1ix64-uXF-o-0sevnewU4uTIJgnfPskyJUAalXUVUVWFJ7yxAhxnCDnJEUxziBH1L0wh5szek4JJYIY3R3U5wVaqS0O94TzR2VNN9Tyj_7VsHYBUMqlUQ2XwFGtVW40" alt="uml diagram"> <img src="https://www.plantuml.com/plantuml/svg/PP4n3u9038Nt_eh6tS71nS60qPsW2VC5wkK2t97sK7--9Q106FkzrxwND95eEFPj0o2bQGWF8BNpdM7JOgQIArrdVCnCLJblyRYGB-4pu-YYRkzIjW5lB_9n1z3D-tWjijMSK-LaHLBB8IS9FPUq5lJcdRm4tk07Esjfoul0zRC9Rm3DnVrvZCCJHYCrjYHYBC48LLr6gwbn4hrUNU71zY-Y9XaRBTZac3eDOLEx9PrCluBguju39EGh_S8N" alt="uml diagram"> <h3 id="tekton"><a href="#tekton" class="header-anchor">#</a> Tekton</h3> <img src="https://www.plantuml.com/plantuml/svg/RP5D2iCW48NtSmh9if155zs7dY2KN61g94nDL7I4GkdTQqn2VXetEkzxZtbW5HWznw47219x9QuGD1c77WTH9qII71gkiMt9TEAsmNVxNcKcJkcYKPgjAG3iywKaYuvuUTA0dGA7KgTRS3QA3uXqPaTDJlLar9dsYEPKLi56BtUH1eC-pcFy2t2CYJAMDfSy9rFdXOtQvN_rYdt2UVkczJu4Svb9pLweb6dJ3_m0" alt="uml diagram"></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/am-arch/multi-cloud/" class="prev router-link-active">
        Overview
      </a></span> <!----></p></div> </main></div></div><div class="global-ui"></div></div>
    <script src="/am-arch/assets/js/app.19c9ff6c.js" defer></script><script src="/am-arch/assets/js/2.ae01a4e5.js" defer></script><script src="/am-arch/assets/js/62.8683264b.js" defer></script>
  </body>
</html>
